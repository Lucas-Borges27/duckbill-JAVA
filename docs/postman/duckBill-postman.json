{
  "info": {
    "name": "Duck Bill API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Criar Usuário",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\"nome\":\"João Silva\",\"email\":\"joao@example.com\",\"senha\":\"senha123\"}"
        },
        "url": {
          "raw": "http://localhost:8080/api/v1/usuarios",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8080",
          "path": ["api", "v1", "usuarios"]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('Response has HATEOAS links', function () {",
              "    var jsonData = pm.response.json();",
              "    pm.expect(jsonData).to.have.property('_links');",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "Listar Usuários",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://localhost:8080/api/v1/usuarios",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8080",
          "path": ["api", "v1", "usuarios"]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('Response has HATEOAS links', function () {",
              "    var jsonData = pm.response.json();",
              "    pm.expect(jsonData).to.have.property('_links');",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "Criar Categoria",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\"nome\":\"Alimentacao\"}"
        },
        "url": {
          "raw": "http://localhost:8080/api/v1/categorias",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8080",
          "path": ["api", "v1", "categorias"]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('Response has HATEOAS links', function () {",
              "    var jsonData = pm.response.json();",
              "    pm.expect(jsonData).to.have.property('_links');",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "Listar Categorias",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://localhost:8080/api/v1/categorias",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8080",
          "path": ["api", "v1", "categorias"]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('Response has HATEOAS links', function () {",
              "    var jsonData = pm.response.json();",
              "    pm.expect(jsonData).to.have.property('_links');",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "Criar Despesa",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\"usuarioId\":1,\"categoriaId\":1,\"valor\":50.00,\"moeda\":\"BRL\",\"dataCompra\":\"2023-10-01\",\"descricao\":\"Jantar\"}"
        },
        "url": {
          "raw": "http://localhost:8080/api/v1/despesas",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8080",
          "path": ["api", "v1", "despesas"]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('Response has HATEOAS links', function () {",
              "    var jsonData = pm.response.json();",
              "    pm.expect(jsonData).to.have.property('_links');",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "Listar Despesas do Mês",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://localhost:8080/api/v1/despesas?usuarioId=1&mes=2023-10",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8080",
          "path": ["api", "v1", "despesas"],
          "query": [
            {
              "key": "usuarioId",
              "value": "1"
            },
            {
              "key": "mes",
              "value": "2023-10"
            }
          ]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('Response has HATEOAS links', function () {",
              "    var jsonData = pm.response.json();",
              "    pm.expect(jsonData).to.have.property('_links');",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "Top 3 Categorias",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://localhost:8080/api/v1/despesas/top3?usuarioId=1&mes=2023-10",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8080",
          "path": ["api", "v1", "despesas", "top3"],
          "query": [
            {
              "key": "usuarioId",
              "value": "1"
            },
            {
              "key": "mes",
              "value": "2023-10"
            }
          ]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('Response has HATEOAS links', function () {",
              "    var jsonData = pm.response.json();",
              "    pm.expect(jsonData).to.have.property('_links');",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "Insights",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://localhost:8080/api/v1/despesas/insights?usuarioId=1&mes=2023-10",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8080",
          "path": ["api", "v1", "despesas", "insights"],
          "query": [
            {
              "key": "usuarioId",
              "value": "1"
            },
            {
              "key": "mes",
              "value": "2023-10"
            }
          ]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('Response has HATEOAS links', function () {",
              "    var jsonData = pm.response.json();",
              "    pm.expect(jsonData).to.have.property('_links');",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "Converter Moeda",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://localhost:8080/api/v1/cambio?valor=100&from=USD&to=BRL",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8080",
          "path": ["api", "v1", "cambio"],
          "query": [
            {
              "key": "valor",
              "value": "100"
            },
            {
              "key": "from",
              "value": "USD"
            },
            {
              "key": "to",
              "value": "BRL"
            }
          ]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('Response has HATEOAS links', function () {",
              "    var jsonData = pm.response.json();",
              "    pm.expect(jsonData).to.have.property('_links');",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "Criar Ativo",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\"ticker\":\"PETR4.SA\",\"tipo\":\"STOCK\",\"moedaBase\":\"BRL\"}"
        },
        "url": {
          "raw": "http://localhost:8080/api/v1/ativos",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8080",
          "path": ["api", "v1", "ativos"]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('Response has HATEOAS links', function () {",
              "    var jsonData = pm.response.json();",
              "    pm.expect(jsonData).to.have.property('_links');",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "Listar Ativos",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://localhost:8080/api/v1/ativos",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8080",
          "path": ["api", "v1", "ativos"]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('Response has HATEOAS links', function () {",
              "    var jsonData = pm.response.json();",
              "    pm.expect(jsonData).to.have.property('_links');",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "Criar Transação Ativo",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\"usuarioId\":1,\"ativoId\":1,\"tipo\":\"BUY\",\"qtd\":10.0,\"preco\":25.50,\"dataNegocio\":\"2023-10-01\"}"
        },
        "url": {
          "raw": "http://localhost:8080/api/v1/transacoes-ativo",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8080",
          "path": ["api", "v1", "transacoes-ativo"]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('Response has HATEOAS links', function () {",
              "    var jsonData = pm.response.json();",
              "    pm.expect(jsonData).to.have.property('_links');",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "Listar Transações Ativo",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://localhost:8080/api/v1/transacoes-ativo",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8080",
          "path": ["api", "v1", "transacoes-ativo"]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('Response has HATEOAS links', function () {",
              "    var jsonData = pm.response.json();",
              "    pm.expect(jsonData).to.have.property('_links');",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "Buscar Cotação Moeda",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://localhost:8080/api/v1/cotacoes-moeda/USD/2024-11-03",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8080",
          "path": ["api", "v1", "cotacoes-moeda", "USD", "2024-11-03"]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('Response has HATEOAS links', function () {",
              "    var jsonData = pm.response.json();",
              "    pm.expect(jsonData).to.have.property('_links');",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "Buscar Cotação Ativo",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://localhost:8080/api/v1/cotacoes-ativo/1/2024-11-03",
          "protocol": "http",
          "host": ["localhost"],
          "port": "8080",
          "path": ["api", "v1", "cotacoes-ativo", "1", "2024-11-03"]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('Response has HATEOAS links', function () {",
              "    var jsonData = pm.response.json();",
              "    pm.expect(jsonData).to.have.property('_links');",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    }
  ]
}
